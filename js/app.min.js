!function() {
    function i() {
        $("#innerWrapper-left .columns .items.active").each(function(i) {
            $(this).removeClass("pos_0 pos_1 pos_2 pos_3"), $(this).addClass("pos_" + i);
        });
    }
    !function() {
        $("#innerWrapper-left .columns").append('<div class="items" id="item-left-0"><p>Item A</p></div>'), 
        $("#innerWrapper-left .columns").append('<div class="items" id="item-left-1"><p>Item B</p></div>'), 
        $("#innerWrapper-left .columns").append('<div class="items" id="item-left-2"><p>Item C</p></div>'), 
        $("#innerWrapper-left .columns").append('<div class="items" id="item-left-3"><p>Item D</p></div>'), 
        $("#innerWrapper-right .columns").append('<div class="items" id="item-right-0"><p>Item A</p></div>'), 
        $("#innerWrapper-right .columns").append('<div class="items" id="item-right-1"><p>Item B</p></div>'), 
        $("#innerWrapper-right .columns").append('<div class="items" id="item-right-2"><p>Item C</p></div>'), 
        $("#innerWrapper-right .columns").append('<div class="items" id="item-right-3"><p>Item D</p></div>'), 
        $("#innerWrapper-left .columns .items:nth-child(1)").addClass("active pos_0"), $("#innerWrapper-left .columns .items:nth-child(2)").addClass("active pos_1"), 
        $("#innerWrapper-left .columns .items:nth-child(3)").addClass("active pos_2"), $("#innerWrapper-right .columns .items:nth-child(4)").addClass("active pos_0");
    }(), $(".items").on("click", function(i) {
        $(this).toggleClass("selected");
    }), $(document).keypress(function(i) {
        13 == i.which && $(".buttons.button-left").trigger("click");
    }), $(".buttons.button-left").on("click", function(e) {
        var t = $("#innerWrapper-left .columns .items.selected").length;
        $("#innerWrapper-left .columns .items.selected").each(function(i) {
            $(this).css({
                "transition-delay": 500 * (t - i - 1) + "ms"
            }), $(this).addClass("falling"), $(this).removeClass("active");
            var e = $(this).index();
            console.log("this item: ", $(this).index());
            var n = $("#innerWrapper-right .columns .items.active").length;
            console.log("num of items on right: ", $("#innerWrapper-right .columns .items.active").length), 
            $("#innerWrapper-right .columns .items:nth-child(" + (e + 1) + ")").css({
                "animation-delay": 500 * (t + i - 1) + "ms"
            }), $("#innerWrapper-right .columns .items:nth-child(" + (e + 1) + ")").addClass("active move_upwards_to_pos_" + (n + 0));
        }), i();
    }), $(".items").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function() {
        console.log(" removing"), $(".items.falling").hide(), $(".items.falling").removeClass("falling active selected pos_0 pos_1 pos_2 pos_3");
    }), $(".buttons.button-right").on("click", function(i) {});
}();